{"ast":null,"code":"import { login } from \"@/api/api.js\";\nexport default {\n  name: \"Login\",\n\n  data() {\n    return {\n      form: {\n        name: \"admin\",\n        password: \"my@admin\"\n      },\n      rules: {\n        name: [{\n          required: true,\n          message: \"请输入用户名\",\n          trigger: \"blur\"\n        }],\n        password: [{\n          required: true,\n          message: \"请输入密码\",\n          trigger: \"blur\"\n        }]\n      }\n    };\n  },\n\n  methods: {\n    submitForm() {\n      this.$refs[\"form\"].validate(valid => {\n        if (valid) {\n          login({\n            username: this.form.name,\n            password: this.form.password\n          }).then(res => {\n            this.$cookie.set(\"menuIndex\", 0);\n            this.$cookie.set(\"token\", res.data.token);\n            this.$router.push(\"/\");\n          }).catch(err => {});\n        } else {\n          this.$message({\n            message: \"用户名或密码错误\",\n            type: \"warning\"\n          });\n          return false;\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA0BA;AACA;EACAA,aADA;;EAEAC;IACA;MACAC;QACAF,aADA;QAEAG;MAFA,CADA;MAKAC;QACAJ,OACA;UACAK,cADA;UAEAC,iBAFA;UAGAC;QAHA,CADA,CADA;QAQAJ,WACA;UACAE,cADA;UAEAC,gBAFA;UAGAC;QAHA,CADA;MARA;IALA;EAsBA,CAzBA;;EA0BAC;IACAC;MACA;QACA;UACAC;YACAC,wBADA;YAEAR;UAFA,GAIAS,IAJA,CAIAC;YACA;YACA;YACA;UACA,CARA,EASAC,KATA,CASAC,SATA;QAUA,CAXA,MAWA;UACA;YACAT,mBADA;YAEAU;UAFA;UAIA;QACA;MACA,CAnBA;IAoBA;;EAtBA;AA1BA","names":["name","data","form","password","rules","required","message","trigger","methods","submitForm","login","username","then","res","catch","err","type"],"sourceRoot":"src/views","sources":["login.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" class=\"login-box\">\r\n      <h3 class=\"login-title\">欢迎登录</h3>\r\n      <el-form-item label=\"账号\" prop=\"name\">\r\n        <el-input\r\n          type=\"text\"\r\n          placeholder=\"请输入用户名\"\r\n          v-model=\"form.name\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"密码\" prop=\"password\">\r\n        <el-input\r\n          type=\"password\"\r\n          placeholder=\"请输入密码\"\r\n          v-model=\"form.password\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"submitForm()\">登录</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { login } from \"@/api/api.js\";\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      form: {\r\n        name: \"admin\",\r\n        password: \"my@admin\",\r\n      },\r\n      rules: {\r\n        name: [\r\n          {\r\n            required: true,\r\n            message: \"请输入用户名\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            message: \"请输入密码\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    submitForm() {\r\n      this.$refs[\"form\"].validate((valid) => {\r\n        if (valid) {\r\n          login({\r\n            username: this.form.name,\r\n            password: this.form.password,\r\n          })\r\n            .then((res) => {\r\n              this.$cookie.set(\"menuIndex\", 0);\r\n              this.$cookie.set(\"token\", res.data.token);\r\n              this.$router.push(\"/\");\r\n            })\r\n            .catch((err) => {});\r\n        } else {\r\n          this.$message({\r\n            message: \"用户名或密码错误\",\r\n            type: \"warning\",\r\n          });\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login-box {\r\n  width: 350px;\r\n  margin: 120px auto;\r\n  border: 1px solid #dcdfe6;\r\n  padding: 20px;\r\n  border-radius: 5px;\r\n  box-shadow: 0 0 30px #dcdfe6;\r\n}\r\n\r\n.login-title {\r\n  text-align: center;\r\n}\r\n</style>\r\n\r\n"]},"metadata":{},"sourceType":"module"}