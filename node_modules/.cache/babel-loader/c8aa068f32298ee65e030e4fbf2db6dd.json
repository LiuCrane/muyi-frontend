{"ast":null,"code":"export default {\n  data() {\n    return {};\n  },\n\n  props: {\n    indexShow: {\n      type: Boolean,\n      default: true\n    },\n    tableData: {\n      // 表格数据\n      type: Array,\n      default: () => {\n        return [];\n      }\n    },\n    tableLabel: {\n      // label信息\n      type: Array,\n      default: () => {\n        return [];\n      }\n    },\n    tableOption: {\n      // 操作数据\n      type: Object,\n      default: () => {\n        return {};\n      }\n    },\n    showSelection: {\n      // 是否显示复选框\n      type: Boolean,\n      default: false\n    },\n    pager: {\n      // 分页信息\n      type: Object,\n      default: function () {\n        return {\n          currentPage: 1,\n          pageSize: 10,\n          total: 0\n        };\n      }\n    }\n  },\n  methods: {\n    tableRowClassName({\n      row,\n      rowIndex\n    }) {\n      if ((rowIndex + 1) % 2 === 0) {\n        return \"double\"; //  基数行对应的类\n      } else {\n        return \"single\"; //  偶数行对应的类\n      }\n    },\n\n    getIndex(index) {\n      return (this.pager.currentPage - 1) * this.pager.pageSize + 1 + index;\n    },\n\n    // 触发自定义按钮操作\n    handleButton(method, row) {\n      this.$emit(\"handleButton\", method, row);\n    },\n\n    // 获取所有的复选框选项\n    getAllSelections() {\n      return this.$refs.table.selection;\n    },\n\n    // size发生变化时，令currentPgae为1，并发送自定义事件\n    handleSizeChange(val) {\n      this.pager.currentPage = 1;\n      this.$emit(\"pagination\", val);\n    },\n\n    // currentPage发生变化时，发送自定义事件\n    handleCurrentChange(val) {\n      this.$emit(\"pagination\", val);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoFA;EACAA;IACA;EACA,CAHA;;EAIAC;IACAC;MACAC,aADA;MAEAC;IAFA,CADA;IAKAC;MACA;MACAF,WAFA;MAGAC;QACA;MACA;IALA,CALA;IAYAE;MACA;MACAH,WAFA;MAGAC;QACA;MACA;IALA,CAZA;IAmBAG;MACA;MACAJ,YAFA;MAGAC;QACA;MACA;IALA,CAnBA;IA0BAI;MACA;MACAL,aAFA;MAGAC;IAHA,CA1BA;IA+BAK;MACA;MACAN,YAFA;MAGAC;QACA;UACAM,cADA;UAEAC,YAFA;UAGAC;QAHA;MAKA;IATA;EA/BA,CAJA;EA+CAC;IACAC;MAAAC;MAAAC;IAAA;MACA;QACA,gBADA,CACA;MACA,CAFA,MAEA;QACA,gBADA,CACA;MACA;IACA,CAPA;;IAQAC;MACA;IACA,CAVA;;IAWA;IACAC;MACA;IACA,CAdA;;IAeA;IACAC;MACA;IACA,CAlBA;;IAmBA;IACAC;MACA;MACA;IACA,CAvBA;;IAwBA;IACAC;MACA;IACA;;EA3BA;AA/CA","names":["data","props","indexShow","type","default","tableData","tableLabel","tableOption","showSelection","pager","currentPage","pageSize","total","methods","tableRowClassName","row","rowIndex","getIndex","handleButton","getAllSelections","handleSizeChange","handleCurrentChange"],"sourceRoot":"src/components","sources":["pageTable.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-table\r\n      ref=\"table\"\r\n      element-loading-text=\"Loading\"\r\n      :data=\"tableData\"\r\n      tooltip-effect=\"dark\"\r\n      style=\"width: 100%\"\r\n      :row-class-name=\"tableRowClassName\"\r\n      \r\n    >\r\n      <el-table-column\r\n        v-if=\"indexShow\"\r\n        label=\"行号\"\r\n        type=\"index\"\r\n        align=\"center\"\r\n        :index=\"getIndex\"\r\n      ></el-table-column>\r\n      <el-table-column\r\n        v-if=\"showSelection\"\r\n        type=\"selection\"\r\n        width=\"55\"\r\n        align=\"center\"\r\n      ></el-table-column>\r\n      <el-table-column\r\n        v-for=\"(item, index) in tableLabel\"\r\n        :width=\"item.width ? item.width : ''\"\r\n        :key=\"index\"\r\n        :align=\"item.align ? item.align : 'center'\"\r\n        :label=\"item.label\"\r\n        :prop=\"item.param\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <!-- 自定义 -->\r\n          <template v-if=\"item.type == 'custom'\">\r\n            <slot :name=\"item.param\" :data=\"scope.row\" :column=\"item\" />\r\n          </template>\r\n          <template v-else>\r\n            <span v-if=\"item.render\" style=\"color: #606266\">\r\n              {{ item.render(scope.row) }}\r\n            </span>\r\n            <span v-else style=\"color: #606266\">{{\r\n              scope.row[item.param]\r\n            }}</span>\r\n          </template>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        v-if=\"tableOption.label\"\r\n        :width=\"tableOption.width ? tableOption.width : ''\"\r\n        :label=\"tableOption.label\"\r\n        align=\"center\"\r\n        class-name=\"fixed-width\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            v-for=\"(item, index) in tableOption.options\"\r\n            :key=\"index\"\r\n            :type=\"item.type ? item.type : 'text'\"\r\n            :icon=\"item.icon ? item.icon : ''\"\r\n            @click=\"handleButton(item.methods, scope.row)\"\r\n            size=\"small\"\r\n          >\r\n            {{ item.label }}\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n      background\r\n      style=\"text-align: center;margin-top: 20px;\"\r\n      :page-sizes=\"[5, 10, 15, 20]\"\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page.sync=\"pager.currentPage\"\r\n      :page-size.sync=\"pager.pageSize\"\r\n      :hide-on-single-page=\"true\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"pager.total\"\r\n    ></el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {};\r\n  },\r\n  props: {\r\n    indexShow: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    tableData: {\r\n      // 表格数据\r\n      type: Array,\r\n      default: () => {\r\n        return [];\r\n      },\r\n    },\r\n    tableLabel: {\r\n      // label信息\r\n      type: Array,\r\n      default: () => {\r\n        return [];\r\n      },\r\n    },\r\n    tableOption: {\r\n      // 操作数据\r\n      type: Object,\r\n      default: () => {\r\n        return {};\r\n      },\r\n    },\r\n    showSelection: {\r\n      // 是否显示复选框\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    pager: {\r\n      // 分页信息\r\n      type: Object,\r\n      default: function () {\r\n        return {\r\n          currentPage: 1,\r\n          pageSize: 10,\r\n          total: 0,\r\n        };\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    tableRowClassName({ row, rowIndex }) {\r\n      if ((rowIndex + 1) % 2 === 0) {\r\n        return \"double\"; //  基数行对应的类\r\n      } else {\r\n        return \"single\"; //  偶数行对应的类\r\n      }\r\n    },\r\n    getIndex(index) {\r\n      return (this.pager.currentPage - 1) * this.pager.pageSize + 1 + index;\r\n    },\r\n    // 触发自定义按钮操作\r\n    handleButton(method, row) {\r\n      this.$emit(\"handleButton\", method, row);\r\n    },\r\n    // 获取所有的复选框选项\r\n    getAllSelections() {\r\n      return this.$refs.table.selection;\r\n    },\r\n    // size发生变化时，令currentPgae为1，并发送自定义事件\r\n    handleSizeChange(val) {\r\n      this.pager.currentPage = 1;\r\n      this.$emit(\"pagination\", val);\r\n    },\r\n    // currentPage发生变化时，发送自定义事件\r\n    handleCurrentChange(val) {\r\n      this.$emit(\"pagination\", val);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.double {\r\n  height: 50px;\r\n  background: #F5F8FE !important;\r\n  border:0px  !important;\r\n  border-radius: 10px;\r\n}\r\n.single {\r\n  height: 50px;\r\n  background: #ffffff !important;\r\n  border:0px  !important;\r\n}\r\n.dialog ::v-deep .el-input__inner{\r\n      background-color:#F4F7FF ;\r\n      border:none\r\n    }\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}